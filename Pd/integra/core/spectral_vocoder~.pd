#N canvas 523 178 785 448 12;
#X obj 40 80 inlet~;
#X obj 483 72 inlet;
#X obj 634 74 inlet;
#X text 365 54 init-bang;
#X obj 65 382 outlet~;
#N canvas 43 22 1293 801 parameter_record_load_tables 0;
#X obj 47 50 inlet~;
#X obj 461 42 inlet;
#X obj 187 40 inlet;
#X text 187 22 init-bang;
#X obj 1269 397 t a;
#X obj 644 623 outlet;
#X text 617 641 rejected para;
#N canvas 0 22 909 700 load_sound_into_table 0;
#X obj 60 43 inlet;
#X obj 60 70 symbol;
#X obj 60 222 soundfiler;
#X msg 60 192 read -resize \$1 \$2;
#X obj 60 167 pack s s;
#X obj 332 43 inlet;
#X text 315 26 select table;
#X obj 138 130 symbol \$0-sound-1;
#X obj 332 69 clip 1 5;
#X obj 332 95 makefilename \$0-sound-%d;
#X obj 225 216 s \$0-in-samprate;
#X msg 225 189 44100;
#X obj 271 289 f 1;
#X obj 271 320 outlet;
#X obj 60 94 t b s b;
#X obj 60 256 t b;
#X connect 0 0 1 0;
#X connect 1 0 14 0;
#X connect 2 0 15 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 8 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 8 0 12 1;
#X connect 9 0 7 1;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 1 4 0;
#X connect 14 2 7 0;
#X connect 14 2 11 0;
#X connect 15 0 12 0;
#X restore 60 420 pd load_sound_into_table;
#X text 815 439 the soundfile storage for playing back.;
#X text 815 220 unit [sec] \, initial-value: 10 \, range: (0.1..90)
\, resizes;
#X text 815 166 initial-value: - \, range: - \, loads the soundfile
;
#X text 815 179 content from harddisk into the previously selected
pd array.;
#X text 815 233 the previously selected pd array (soundfile storage).
;
#X text 815 352 unit [-] \, initial-value: - \, range: - \, records
sound;
#X text 815 365 from signal input to the previously selected pd array
(soundfile storage).;
#X text 815 99 unit [-] \, initial-value: 1 \, range: (1..5) \, selects
;
#X text 815 426 unit [-] \, initial-value: 1 \, range: (1..5) \, selects
;
#N canvas 0 22 468 355 resize_table 0;
#X obj 60 27 inlet;
#X obj 267 42 inlet;
#X text 250 25 select table;
#X obj 138 209 symbol \$0-sound-1;
#X obj 267 68 clip 1 5;
#X obj 267 94 makefilename \$0-sound-%d;
#X obj 60 246 pack f s;
#X msg 60 269 \; \$2 resize \$1;
#X obj 98 93 samplerate~;
#X obj 60 120 * 44100;
#X obj 60 59 clip 0.1 90;
#X obj 261 279 f 1;
#X obj 60 173 t b f b;
#X obj 261 310 outlet;
#X connect 0 0 10 0;
#X connect 1 0 4 0;
#X connect 3 0 6 1;
#X connect 4 0 5 0;
#X connect 4 0 11 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 8 0 9 1;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 12 1 6 0;
#X connect 12 2 3 0;
#X restore 234 501 pd resize_table;
#X text 46 30 sig.in;
#X msg 1269 204 selEditSoundIndex \$1;
#X msg 1269 227 loadSound \$1;
#X msg 1269 250 resizeSound \$1;
#X msg 1269 295 selPlaybackSoundIndex \$1;
#X obj 681 518 print;
#X text 815 488 unit [-] \, initial-value: 0.1 \, range: (0 ... 1)
;
#X text 825 512 (0 .. begin of sample \, 1 .. end of sample).;
#X text 785 84 7.) parameter: "selEditSoundIndex" \, type: <float>
;
#X text 785 151 8.) parameter: "loadSound" \, type: <symbol> \, unit
[-];
#X text 785 205 9.) parameter: "resizeSound" \, type: <float>;
#X text 825 500 relative value of position in playback sample.;
#X text 530 292 pos;
#X floatatom 60 338 5 0 0 0 - #0-window-size -;
#X msg 60 226 512;
#X msg 60 248 1024;
#X msg 60 270 2048;
#X msg 60 292 4096;
#X text 60 193 window size \,;
#X text 60 208 samples;
#X text 103 269 <- set;
#X text 113 338 (check);
#X obj 60 314 s \$0-window-size;
#N canvas 0 22 966 541 calc_table_length 0;
#X obj 122 35 inlet;
#X obj 123 293 expr size("$s1");
#X obj 122 230 makefilename \$0-sound-%d;
#X floatatom 175 325 0 0 0 0 - - -;
#X obj 122 69 clip 1 5;
#X obj 160 352 s \$0-samplength;
#X obj 114 436 * 1000;
#X obj 114 459 s \$0-samp-msec;
#X obj 160 381 r \$0-in-samprate;
#X obj 114 412 / 44100;
#X obj 123 322 t f;
#X obj 145 263 s \$0-selected-table;
#X obj 432 31 inlet;
#X obj 429 106 f 1;
#X text 121 10 selPlaybackSoundIndex;
#X text 409 5 selEditSoundIndex;
#X obj 440 132 ==;
#X obj 432 77 t b f f;
#X obj 465 183 f 1;
#X obj 440 157 sel 1;
#X text 499 80 1.) if edited table == playedtable;
#X text 499 107 2.) AND (if edited table is resized OR new loaded)
;
#X text 510 135 then calculate table size;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 2 0 11 0;
#X connect 4 0 2 0;
#X connect 4 0 13 1;
#X connect 6 0 7 0;
#X connect 8 0 9 1;
#X connect 9 0 6 0;
#X connect 10 0 5 0;
#X connect 10 0 9 0;
#X connect 12 0 17 0;
#X connect 13 0 16 0;
#X connect 16 0 19 0;
#X connect 17 0 13 0;
#X connect 17 1 16 1;
#X connect 17 2 18 1;
#X connect 18 0 2 0;
#X connect 19 0 18 0;
#X restore 82 551 pd calc_table_length;
#X text 785 473 13.) parameter: "relPosition" \, type: <float>;
#X text 785 411 12.) parameter: "selPlaybackSoundIndex" \, type: <float>
;
#X text 785 337 11.) parameter: "recSound" \, type: <void>;
#X text 815 112 the soundfile storage for editing like loading \, resizing
\, recording \, normalizing.;
#X text 785 262 10.) parameter: "normSound" \, type: <void>;
#X text 815 277 unit [-] \, initial-value: - \, range: - \, normalizes
the;
#X text 815 291 previously selected pd array (soundfile storage).;
#X text 625 335 norm;
#N canvas 0 22 468 355 normalize_table 0;
#X obj 60 27 inlet;
#X obj 188 28 inlet;
#X text 171 11 select table;
#X obj 61 169 symbol \$0-sound-1;
#X obj 188 54 clip 1 5;
#X obj 188 80 makefilename \$0-sound-%d;
#X msg 61 205 \; \$1 normalize 0.95;
#X obj 60 131 t b;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 7 0 3 0;
#X restore 620 463 pd normalize_table;
#N canvas 0 22 450 300 pos 0;
#X obj 60 31 inlet;
#X obj 63 157 s \$0-location;
#X obj 101 98 r \$0-samp-msec;
#X obj 63 125 * 2000;
#X obj 60 68 clip 0 1;
#X connect 0 0 4 0;
#X connect 2 0 3 1;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 525 403 pd pos;
#X msg 1269 342 relPosition \$1;
#X msg 1269 272 recSound;
#X msg 1269 318 normSound;
#X text 784 545 14.) parameter: "squelchThreshold" \, type: <float>
;
#X text 814 560 unit [dB] \, initial-value: -40 \, range: (-100 ...
0);
#X text 824 572 clipping threshold;
#X msg 1269 366 squelchThreshold \$1;
#N canvas 0 22 450 300 squelch 0;
#X obj 60 31 inlet;
#X obj 60 68 clip -100 0;
#X obj 60 176 s \$0-squelch;
#X obj 60 95 + 100;
#X obj 60 120 dbtorms;
#X obj 60 147 * 100;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 552 507 pd squelch;
#X text 597 304 squelch;
#X obj 292 240 route selEditSoundIndex loadSound resizeSound recSound
selPlaybackSoundIndex relPosition squelchThreshold normSound;
#X obj 187 68 t b;
#X text 458 23 parameters in;
#X obj 770 622 outlet;
#X text 743 641 outgoing para;
#N canvas 535 69 837 474 record_sound_into_table 0;
#X obj 145 41 inlet;
#X obj 406 42 inlet;
#X text 389 25 select table;
#X obj 243 154 symbol \$0-sound-1;
#X obj 406 68 clip 1 5;
#X obj 406 94 makefilename \$0-sound-%d;
#X obj 63 42 inlet~;
#X obj 58 335 tabwrite~ \$0-sound-1;
#X msg 244 214 set \$1;
#X obj 269 71 samplerate~;
#X obj 269 95 s \$0-in-samprate;
#X obj 80 158 sel 1 0;
#X msg 157 300 bang;
#X obj 60 248 ../generics/line_mul~ 0 20;
#X obj 625 45 inlet;
#X text 618 22 init;
#X obj 500 357 outlet;
#X text 505 379 out;
#X obj 499 303 del 100;
#X msg 499 328 list recSound 0;
#X msg 492 238 stop;
#X obj 425 206 t b b b;
#X obj 554 185 expr size("$s1");
#X obj 145 77 t f f b b;
#X obj 554 265 / 44.1;
#X obj 599 240 * 0.001;
#X obj 599 217 r \$0-in-samprate;
#X connect 0 0 23 0;
#X connect 1 0 4 0;
#X connect 3 0 8 0;
#X connect 3 0 22 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 11 0 21 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 13 3;
#X connect 18 0 19 0;
#X connect 19 0 16 0;
#X connect 20 0 18 0;
#X connect 21 0 18 0;
#X connect 21 1 12 0;
#X connect 21 2 20 0;
#X connect 22 0 24 0;
#X connect 23 0 11 0;
#X connect 23 1 13 1;
#X connect 23 2 3 0;
#X connect 23 3 9 0;
#X connect 24 0 18 1;
#X connect 25 0 24 1;
#X connect 26 0 25 0;
#X restore 319 450 pd record_sound_into_table;
#X connect 0 0 66 0;
#X connect 1 0 61 0;
#X connect 2 0 62 0;
#X connect 7 0 41 1;
#X connect 17 0 41 1;
#X connect 19 0 4 0;
#X connect 20 0 4 0;
#X connect 21 0 4 0;
#X connect 22 0 4 0;
#X connect 32 0 40 0;
#X connect 33 0 40 0;
#X connect 34 0 40 0;
#X connect 35 0 40 0;
#X connect 52 0 4 0;
#X connect 53 0 4 0;
#X connect 54 0 4 0;
#X connect 58 0 4 0;
#X connect 61 0 7 1;
#X connect 61 0 17 1;
#X connect 61 0 50 1;
#X connect 61 0 66 2;
#X connect 61 1 7 0;
#X connect 61 2 17 0;
#X connect 61 3 66 1;
#X connect 61 4 41 0;
#X connect 61 5 51 0;
#X connect 61 6 59 0;
#X connect 61 7 50 0;
#X connect 61 8 5 0;
#X connect 62 0 34 0;
#X connect 62 0 66 3;
#X connect 66 0 64 0;
#X restore 184 164 pd parameter_record_load_tables;
#N canvas 499 89 767 487 tables 0;
#X obj 59 148 table \$0-sound-1 441000;
#X obj 59 170 table \$0-sound-2 441000;
#X obj 59 192 table \$0-sound-3 441000;
#X obj 59 214 table \$0-sound-4 441000;
#X obj 59 236 table \$0-sound-5 441000;
#N canvas 157 73 529 522 hann-window 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 2048 float 0;
#X coords 0 1 2047 0 300 100 1;
#X restore 65 322 graph;
#X obj 197 216 s \$0-hann;
#X msg 197 187 resize \$1;
#X obj 62 217 tabwrite \$0-hann;
#N canvas 0 22 487 551 calc_hann 0;
#X obj 68 207 t f f;
#X obj 67 361 t f f;
#X obj 67 386 *;
#X obj 219 181 expr atan(1)*4;
#X obj 68 277 * 3.14;
#X obj 68 305 / 512;
#X obj 67 334 sin;
#X obj 68 156 until;
#X obj 109 43 inlet;
#X obj 108 77 t f f b;
#X obj 67 428 outlet;
#X obj 194 427 outlet;
#X obj 68 181 ../generics/counter 512;
#X connect 0 0 4 0;
#X connect 0 1 11 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 10 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 12 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 9 1 5 1;
#X connect 9 1 12 1;
#X connect 9 2 3 0;
#X connect 9 2 12 2;
#X connect 12 0 0 0;
#X restore 74 188 pd calc_hann;
#X obj 98 77 r \$0-window-size;
#X obj 98 103 t f f;
#X text 17 6 calculate Hann window table (variable window size);
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 1 2 0;
#X restore 58 48 pd hann-window;
#X restore 76 239 pd tables;
#X obj 325 233 r \$0-location;
#X floatatom 325 258 0 0 0 0 - - -;
#N canvas 179 235 824 549 fft-analysis-resynthesis 0;
#X obj 291 451 outlet~;
#X obj 692 315 block~;
#X msg 692 290 set \$1 4;
#X obj 692 266 r \$0-window-size;
#X obj 329 336 *~;
#X obj 290 336 *~;
#X obj 288 118 rfft~;
#X obj 291 423 *~;
#X floatatom 570 157 0 0 0 0 - - -;
#X obj 145 105 *~;
#X obj 144 46 inlet~;
#X obj 290 362 rifft~;
#X text 142 21 modulus;
#X obj 348 217 *~;
#X obj 162 75 tabreceive~ \$0-hann;
#X obj 648 171 r \$0-window-size;
#X msg 649 230 1 \$1;
#X obj 649 256 /;
#X obj 348 297 *~ 0.001;
#N canvas 916 124 451 378 calc_reciprocal_magnitude 0;
#X obj 76 141 *~;
#X obj 44 141 *~;
#X obj 44 163 +~;
#X obj 44 189 +~ 1e-20;
#X obj 47 58 inlet~;
#X obj 100 59 inlet~;
#X obj 45 295 outlet~;
#X text 44 36 re;
#X text 105 36 im;
#X obj 44 212 rsqrt~;
#X text 44 316 reciprocal magnitude;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 1 1;
#X connect 4 0 1 0;
#X connect 5 0 0 1;
#X connect 5 0 0 0;
#X connect 9 0 6 0;
#X restore 301 146 pd calc_reciprocal_magnitude;
#N canvas 916 124 451 378 calc_magnitude 0;
#X obj 76 141 *~;
#X obj 44 141 *~;
#X obj 44 173 +~;
#X obj 47 58 inlet~;
#X obj 100 59 inlet~;
#X obj 45 295 outlet~;
#X text 44 36 re;
#X text 105 36 im;
#X obj 44 212 sqrt~;
#X text 44 316 magnitude;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 1 1;
#X connect 3 0 1 0;
#X connect 4 0 0 1;
#X connect 4 0 0 0;
#X connect 8 0 5 0;
#X restore 353 91 pd calc_magnitude;
#X obj 366 190 clip~ 0 0.0001;
#X text 384 321 normalize;
#X obj 309 395 tabreceive~ \$0-hann;
#X obj 572 35 r \$0-squelch;
#X obj 648 201 t f b;
#X msg 591 62 0.001;
#N canvas 186 22 561 804 read-tables 0;
#X obj 116 280 f;
#X obj 85 120 /;
#X obj 18 699 *~;
#X obj 116 225 bang~;
#X obj 17 551 line~;
#X obj 85 145 * 1000;
#X obj 135 452 +;
#X obj 103 426 t f f;
#X msg 17 523 \$1 \, \$2 \$3;
#X obj 17 496 pack 0 0 0;
#X floatatom 364 338 7 0 0 0 - - -;
#X obj 18 724 outlet~;
#X obj 36 670 tabreceive~ \$0-hann;
#X floatatom 94 168 5 0 0 0 - - -;
#X obj 85 63 t f b;
#X obj 108 91 samplerate~;
#X obj 192 381 / 2;
#X obj 116 400 -;
#X obj 84 39 r \$0-window-size;
#X obj 134 252 r \$0-location;
#X obj 155 301 r \$0-in-samprate;
#X obj 365 306 r \$0-window-size;
#X obj 17 641 tabread4~ \$0-sound-1;
#X obj 34 585 r \$0-selected-table;
#X msg 35 610 set \$1;
#X obj 155 325 * 0.001;
#X obj 116 352 * 44.1;
#X text 151 273 ms;
#X text 168 353 samples;
#X connect 0 0 26 0;
#X connect 1 0 5 0;
#X connect 2 0 11 0;
#X connect 3 0 0 0;
#X connect 4 0 22 0;
#X connect 5 0 13 0;
#X connect 5 0 9 2;
#X connect 6 0 9 1;
#X connect 7 0 9 0;
#X connect 7 1 6 0;
#X connect 8 0 4 0;
#X connect 9 0 8 0;
#X connect 10 0 6 1;
#X connect 10 0 16 0;
#X connect 12 0 2 1;
#X connect 14 0 1 0;
#X connect 14 1 15 0;
#X connect 15 0 1 1;
#X connect 16 0 17 1;
#X connect 17 0 7 0;
#X connect 18 0 14 0;
#X connect 19 0 0 1;
#X connect 20 0 25 0;
#X connect 21 0 10 0;
#X connect 22 0 2 0;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X connect 25 0 26 1;
#X connect 26 0 17 0;
#X restore 353 29 pd read-tables;
#X obj 570 128 max 0.0001;
#X obj 353 60 rfft~;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 11 1;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 6 0 19 0;
#X connect 6 1 4 0;
#X connect 6 1 19 1;
#X connect 7 0 0 0;
#X connect 8 0 21 2;
#X connect 9 0 6 0;
#X connect 10 0 9 0;
#X connect 11 0 7 0;
#X connect 13 0 18 0;
#X connect 14 0 9 1;
#X connect 15 0 25 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 18 0 4 1;
#X connect 18 0 5 1;
#X connect 19 0 21 0;
#X connect 20 0 13 0;
#X connect 21 0 13 1;
#X connect 23 0 7 1;
#X connect 24 0 28 0;
#X connect 25 0 16 0;
#X connect 25 1 26 0;
#X connect 26 0 28 0;
#X connect 27 0 29 0;
#X connect 28 0 8 0;
#X connect 29 0 20 0;
#X connect 29 1 20 1;
#X restore 65 337 pd fft-analysis-resynthesis;
#X obj 218 384 outlet;
#X text 28 51 sig.in.live.voice;
#X obj 196 79 inlet~;
#X text 184 50 sig.in.rec.instr.;
#X floatatom 325 307 0 0 0 0 - - -;
#X obj 325 283 * 44.1;
#X text 220 410 rejected parameter;
#X obj 436 375 outlet;
#X text 424 402 outgoing parameter;
#X text 611 54 incoming parameter;
#X obj 379 79 inlet;
#X text 479 52 fini-bang;
#X text 65 407 sig.out;
#X msg 496 174 selEditSoundIndex 1;
#X msg 527 209 selPlaybackSoundIndex 1;
#X connect 0 0 9 0;
#X connect 2 0 5 2;
#X connect 5 0 10 0;
#X connect 5 1 17 0;
#X connect 7 0 8 0;
#X connect 8 0 15 0;
#X connect 9 0 4 0;
#X connect 12 0 5 0;
#X connect 15 0 14 0;
#X connect 20 0 5 1;
#X connect 20 0 23 0;
#X connect 20 0 24 0;
#X connect 23 0 5 2;
#X connect 24 0 5 2;
